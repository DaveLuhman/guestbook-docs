---
title: "Observability and logging"
audience: "developers"
summary: "Logging and health signals that help admins support kiosks without requiring a developer for every incident."
url_prefix: "/docs/developers"
nav_order: 8
icon: "chart-line"
---

This page describes observability for the admin portal and the broader Guestbook platform.

## Admin portal observability

### What to log

- Admin UI data fetches and failures (client-side console in dev mode)
- Backend API errors (401/403/404/5xx) visible in browser network tab
- Export errors and invalid filter states
- Authentication failures and token refresh issues

### Redaction rules

- Never log raw secrets or access tokens
- Treat user-entered fields as sensitive by default
- Prefer structured logs over dumping full objects
- Redact PII from log output (names, IDs, email addresses in production)

### Health checks

The portal ships a simple health endpoint at `/api/health` that returns:
- Process uptime
- Version metadata
- Basic status

Use your hosting provider's logs and metrics (Vercel, Docker, etc.) for deeper visibility.

## Backend API observability

The backend API (`guestbook-express`) provides additional observability:

### Logging

- HTTP request logging via Morgan (configurable via `ENABLE_MORGAN`)
- Log level configurable via `LOG_LEVEL` (default: `info`)
- Error logging includes stack traces in development mode

### Database monitoring

- Monitor PostgreSQL connection health
- Track query performance via database logs
- Monitor migration status and errors

### Device health

- Device heartbeat tracking (`last_sync` timestamps)
- Device online/offline status based on heartbeat intervals
- Entry submission success/failure rates per device

## Kiosk client observability

The kiosk client logs to platform-specific locations:

- **Windows**: `%APPDATA%/guestbook-kiosk/logs/`
- **macOS**: `~/Library/Logs/guestbook-kiosk/`
- **Linux**: `~/.local/share/guestbook-kiosk/logs/` or `journalctl -u guestbook-client.service`

### What kiosk logs include

- HID device detection and connection status
- Entry submission attempts and results
- Network connectivity issues
- Camera sidecar status (if using camera scanning)

## Recommended monitoring

For production deployments, monitor:

1. **Admin portal**: Uptime, response times, error rates
2. **Backend API**: Request latency, database connection health, error rates
3. **Kiosk devices**: Heartbeat frequency, entry submission success rate, offline duration
4. **Database**: Connection pool usage, query performance, disk space

Use your infrastructure monitoring tools (Datadog, New Relic, CloudWatch, etc.) to aggregate and alert on these metrics.
