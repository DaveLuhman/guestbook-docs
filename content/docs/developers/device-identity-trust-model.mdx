---
title: "Device identity and trust model"
audience: "developers"
summary: "Concepts for provisioning, binding, rotation, and revocation of kiosk identities in a physically exposed environment."
url_prefix: "/docs/developers"
nav_order: 5
icon: "id-card"
---

This repository does not implement kiosk identity provisioning. Device identity is enforced by the backend API and the kiosk runtime.

## What the admin portal does

- Displays device identifiers provided by the backend
- Shows device status based on backend `last_sync` data
- Allows admins to retire devices (if the backend supports it)
- Displays device-to-organization assignments

## Where identity is handled

Device identity, provisioning, rotation, and revocation are implemented in:

- **Backend API** (`guestbook-express`): Issues and validates device tokens, manages device registration
- **Kiosk Client** (`guestbook-client`): Stores device tokens, presents tokens for authentication

## Device identity model

### Device registration

1. Kiosk client generates a 6-character device ID (e.g., `ABC123`)
2. Kiosk client generates or receives a device token
3. Kiosk client registers with backend via `POST /api/v1/devices/register`
4. Backend stores device ID, token, and initial device version (name, location)

### Device authentication

- Kiosks authenticate using device tokens (not user credentials)
- Device tokens are included in requests to backend API
- Backend validates tokens and associates requests with device IDs

### Device versioning

The backend uses a versioned device model:
- Device attributes (name, location) are stored in `device_versions` table
- Each device can have multiple versions over time
- Entries are linked to specific device versions for historical accuracy
- When device name/location changes, a new version is created

### Device lifecycle

- **Registration**: Initial device setup and backend registration
- **Active**: Device is online and submitting entries
- **Retired**: Device is marked inactive but data is preserved
- **Deleted**: Device and associated data are removed (requires appropriate permissions)

For implementation details, refer to:
- Backend API repository for device registration and authentication logic
- Kiosk client repository for device token storage and management
